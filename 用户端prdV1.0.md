# 汽车销售 H5｜基于朋友圈截图的个性化销售策略 PRD

## 1. 背景与目标
- 背景：汽车销售人员往往需要快速识别潜在客户的性格、兴趣与购车阶段，以便制定高命中率的沟通策略。朋友圈内容蕴含丰富线索（职业、家庭、兴趣、价值观、消费偏好等）。
- 目标：提供一个 H5 页面，销售上传≥5张对方朋友圈截图，系统通过多模态大模型进行画像与策略分析，输出可直接用于销售沟通的话术与跟进动作。
- 业务价值：提高首轮沟通效率与转化率，缩短线索培育周期，帮助匹配合适车型与卖点。

## 2. 目标用户与使用场景
- 目标用户：4S 店与新势力渠道的前线汽车销售人员、销售主管。
- 被分析对象：销售希望跟进的潜客（朋友圈截图来自该潜客公开内容）。
- 使用场景：
  - 拨打电话/加微信前，先生成沟通策略。
  - 线下接待前，快速形成“首轮话术+卖点组合”。
  - 跟进阶段，基于最新朋友圈动态更新策略。

## 3. 用户故事（精简）
1. 作为销售，我上传至少5张朋友圈截图，系统在1分钟内给出画像与策略。
2. 作为销售，我希望输出包含：兴趣标签、预算信号、购车阶段判断、雷区与禁忌、首句开场白、卖点组合、跟进节奏与下一步行动。
3. 作为销售主管，我希望结果结构化，便于复用与团队培训。

## 4. 范围与非范围
- 范围内：
  - H5 单页应用：上传图片、查看分析报告、复制/导出结果。
  - 图像最少5张、最多20张，每张≤10MB；支持 png/jpg/jpeg。
  - 服务端代理调用大模型，合并图片与提示词完成一次多模态推理。
  - 结构化输出与可复制话术。
  - 基础埋点（上传数量、分析耗时、复制次数、导出次数）。
- 暂不包含（后续版本）：
  - 账号体系与团队看板。
  - 与企业微信/CRM 打通。
  - 长期数据存储与跨设备历史查询（默认仅短期临时缓存）。

## 5. 成功指标（度量）
- 分析完成率 ≥ 95%。
- 首屏至上传完成中位耗时 ≤ 20s（本地+网络）。
- 模型响应中位耗时 ≤ 25s；P95 ≤ 45s。
- 文案复制率 ≥ 60%，导出率 ≥ 30%。
- 错误率（含鉴权/超时/格式）≤ 3%。

## 6. 体验流程（H5）
1. 首屏：上传区域（拖拽/点击）、上传要求提示（≥5张，支持格式/大小说明）。
2. 选图后：文件列表预览（可删除/重选），显示已选数量与总大小。
3. 提交：调用后端 /api/analyze，展示进度与预计时长；支持取消。
4. 分析结果展示（卡片化展示，与上传页面在同一页面）：
   - 人物画像（角色猜测/性格特征/沟通偏好）。
   - 兴趣与生活线索（体育/旅行/亲子/宠物/职场等）。
   - 预算与消费信号（品牌敏感度、保值/油耗/智能化偏好）。
   - 购车阶段判断（认知/对比/决策/观望）。
   - 雷区与禁忌（避免踩雷的话术提醒）。
   - 推荐车型与卖点组合（3组以内，理由简述）。
   - 开场白模板、跟进节奏、下一步行动清单。
   - 操作：复制全部/复制分段、导出 PDF（可选V2）、重新分析。

## 7. 输出结构（建议 JSON 模型）
```json
{
  "persona": {
    "summary": "简要画像",
    "traits": ["理性/感性", "社交开放度", "风险偏好"],
    "communication_tone": "更易接受的语气风格"
  },
  "interests": ["运动健身", "旅行露营", "亲子", "科技数码"],
  "budget_signals": {
    "sensitivity": "对价格/保值/油耗/智能化的关注度",
    "range_hint": "可能的预算区间（估计）",
    "brand_attitude": "合资/豪华/新势力偏好"
  },
  "stage_judgement": "认知/对比/决策/观望",
  "risks_and_taboo": ["避免过度强调性能", "避免贬低竞品"],
  "recommended_models": [
    {
      "model_name": "示例车型A",
      "key_selling_points": ["空间", "智驾", "保值"],
      "why": "结合兴趣与预算的理由"
    }
  ],
  "talk_track": {
    "opening_line": "首句开场白模板",
    "value_narrative": "围绕其关注点的价值陈述",
    "follow_up_rhythm": "跟进节奏建议（天/周）"
  },
  "next_actions": ["预约试驾", "发送对比清单", "提供金融方案"]
}
```

## 8. 大模型集成（Doubao-Seed-1.8）
- 模型：`doubao-seed-1-8-251228`
- 端点：`https://ark.cn-beijing.volces.com/api/v3/responses`
- 鉴权：HTTP Header `Authorization: Bearer <ARK_API_KEY>`；仅服务器持有密钥。
- 调用方式：服务端汇总多张图片为多模态输入，附加中文提示词，返回结构化结果。
- 失败重试：网络错误与 5xx 指数退避重试 2 次；用户可手动重试。
- 常见错误：
  - 401/鉴权失败：API Key 缺失或无效（例如返回包含 AuthenticationError 与“the API key or AK/SK in the request is missing or invalid.” 的消息）。
  - 400/参数错误：图片链接无效或请求体格式不符。
  - 超时：> 60s 视为超时，提示用户稍后重试。

### 8.1 服务端请求示例（多图）
```bash
curl "https://ark.cn-beijing.volces.com/api/v3/responses" \
  -H "Authorization: Bearer $ARK_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "doubao-seed-1-8-251228",
    "input": [
      {
        "role": "system",
        "content": [
          {
            "type": "text",
            "text": "你是一个汽车销售冠军，对于年轻人，中年人，老年人的心理和外在表现，有非常强的洞察，也有一套很厉害的销售技巧的技巧！擅长于输出简短但有效的分析和建议"
          }
        ]
      },
      {
        "role": "user",
        "content": [
          { "type": "input_image", "image_url": "https://example.com/img1.jpg" },
          { "type": "input_image", "image_url": "https://example.com/img2.jpg" },
          { "type": "input_image", "image_url": "https://example.com/img3.jpg" },
          { "type": "input_image", "image_url": "https://example.com/img4.jpg" },
          { "type": "input_image", "image_url": "https://example.com/img5.jpg" },
          { "type": "input_text", "text": "请基于这些朋友圈截图，提取人物画像与兴趣点..." }
        ]
      }
    ]
  }'
```

### 8.2 提示词要点（简述）
- 明确任务：从朋友圈截图提取“兴趣/职业/生活形态/家庭/价值观/预算信号/购车阶段/禁忌”。
- 输出格式：要求返回指定 JSON 字段，中文短句，避免冗长。
- 风控约束：不得编造具体隐私或未在图片中出现的信息，必要时以“可能/推测”表述。

## 9. 安全、合规与隐私
- API Key 仅服务端保存，前端绝不暴露；通过后端代理转发。
- 图片处理：
  - 默认不落盘，以内存临时转存与直传对象存储（可选）方式调用模型。
  - 若落盘，设置临时过期清理（建议 24 小时）与访问控制。
  - 图片仅用于本次分析，不做训练或二次用途。
- 法律与平台合规：
  - 仅分析销售人员已获授权或公开可见的内容，避免侵权。
  - 遵循个人信息保护法，提供删除与不留存选项。

## 10. 技术架构（建议）
- 前端：H5 单页（可用 Vite + Vue/React 任一），纯浏览器能力（File API + fetch）。
- 后端：Node.js（Koa/Express）轻服务：
  - 接收图片（FormData），上传至临时对象存储或生成可访问 URL。
  - 组装 Doubao 请求，附加提示词与策略模板；统一错误转换与日志。
  - 返回结构化 JSON 与展示所需的富文案。
- 部署：后端与前端同源；开启 HTTPS；CDN 缓存静态资源。

## 11. API 设计（初版）
- POST `/api/analyze`
  - 请求（multipart/form-data）：
    - files: 多张图片（5–20）
  - 响应（application/json）：
    - `task_id`：请求标识
    - `result`：见“输出结构”
    - `latency_ms`：总耗时
  - 错误码：
    - 400：图片数量不足/类型错误/文件过大
    - 401：鉴权失败（后端调用大模型失败）
    - 408：上游超时
    - 500：未知错误

## 12. 交互细节（关键态）
- 上传校验：少于5张禁用“开始分析”按钮；显示错误提示。
- 进度提示：准备图片、发送至模型、模型分析中、生成报告。
- 失败降级：给出可复制的致歉文案与重试按钮；记录上报。
- 结果复用：一键复制全部策略；分段复制；可选导出 PDF（V2）。

## 13. 埋点与监控
- 事件：pv、文件选择、上传成功/失败、分析开始/成功/失败、复制、导出、重试。
- 指标：平均/中位/分位耗时、错误分布（401/400/超时）、图片数量分布。
- 后端监控：请求日志、上游返回码、重试次数、费用估算。

## 14. 风险与对策
- OCR/识别质量不足：提示用户“文字清晰、无遮挡”，后续可接入 OCR 预处理。
- 图片质量差/拼图：提供质量提示，允许删除重传。
- 模型幻觉：约束输出格式，强调仅基于截图可见信息做“推测”。
- 成本与限流：设置最大图片数与并发阈值，失败重试有上限。
- 鉴权错误：对 401 进行明确提示与内部告警，检查 ARK_API_KEY 配置。

## 15. 里程碑与验收
- M1 原型（1 周）：完成 H5 上传与后端直通模型，输出基础 JSON。
- M2 体验（1–2 周）：完善提示词与结果卡片、复制与埋点、错误处理。
- M3 上线（1 周）：优化性能与监控、隐私策略、部署与验收。

## 16. 附：最小可用提示词（草案）
你是一个汽车销售冠军，对于年轻人，中年人，老年人的心理和外在表现，有非常强的洞察，也有一套很厉害的销售技巧的技巧！擅长于输出简短但有效的分析和建议。请你仅基于以下朋友圈截图，提取此人的人物画像与兴趣线索，并给出用于汽车销售的沟通策略。只做基于图片可见信息的合理推测，避免杜撰隐私。输出为简洁中文，遵循下列 JSON 字段：persona、interests、budget_signals、stage_judgement、risks_and_taboo、recommended_models、talk_track、next_actions。

## 17. Curl 示例（官方模型参数对齐）
```bash
curl "https://ark.cn-beijing.volces.com/api/v3/responses" \
  -H "Authorization: Bearer $ARK_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "doubao-seed-1-8-251228",
    "input": [
      {
        "role": "user",
        "content": [
          { "type": "input_image", "image_url": "https://ark-project.tos-cn-beijing.volces.com/doc_image/ark_demo_img_1.png" },
          { "type": "input_text", "text": "你看见了什么？" }
        ]
      }
    ]
  }'
```

---
文档状态：v1.0（核对版）  
变更记录：首次整理需求并结构化为可实施 PRD。

